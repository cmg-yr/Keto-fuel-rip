function dialogue(e,t,n){var a=$("<div/>");a.addClass("white-popup"),a.append($("<div/>").addClass("ic-modal-title").text(t));for(var i=$("<div/>").addClass("ic-modal-content"),l=0;l<e.length;l++)i.append(e.get(l));i.find(":button").addClass("mfp-close").addClass("mfp-close-ok"),a.append(i),$.magnificPopup.open({closeOnContentClick:!1,items:{src:a,type:"inline"},callbacks:{close:function(){jumpToAnchor(n)}}},0)}function jumpToAnchor(e){e&&$(document).scrollTop($(e).offset().top)}function Alert(e,t){var e=$("<p />",{html:e}),n=$("<button />",{text:"Ok","class":"full"});dialogue(e.add(n),"Alert!",t)}function Prompt(e,t,n,a){var i=$("<p />",{text:e}),l=$("<input />",{val:t}),o=$("<button />",{text:"Ok",click:function(){n(l.val())}}),s=$("<button />",{text:"Cancel",click:function(){n(null)}});dialogue(i.add(l).add(o).add(s),"Attention!",a)}function Confirm(e,t,n){var a=$("<p />",{text:e}),i=$("<button />",{text:"Ok",click:function(){t(!0)}}),l=$("<button />",{text:"Cancel",click:function(){t(!1)}});dialogue(a.add(i).add(l),"Do you agree?",n)}function Question(e,t,n){var a=$("<p />",{html:e}),i=$("<button />",{text:"Yes",click:function(){t(!0)}}),l=$("<button />",{text:"No",click:function(){t(!1)}});dialogue(a.add($("<div />")).append(i).append(l),"Please Review",n)}function answerQuestion(e){e?($("#cc_number").val(""),$('#cc_month option[value=""]').prop("selected",!0),$('#cc_year option[value=""]').prop("selected",!0),$("#cc_cvv").val("")):window.location=window.answerLink}function getStates(e,t,n,a){if(e&&t){var n=-1!=$.inArray(n,window.countries)?n:!1,a=-1!=$.inArray(n,window.countries)?a:!1,i=$("#"+t+"StateLabel",e),l=$("#"+t+"ZipLabel",e),o=$("select[name="+t+"State]",e),s=$("input[name="+t+"State]",e);n&&$("select[name="+t+"Country] option[value="+n+"]").attr("selected","selected");var r=$("select[name="+t+"Country]",e);$.ajax({url:"ajax/states.php",data:{country:r.val()},dataType:"json",success:function(e){if(e.complete){i.html(e.stateLabel),l.html(e.zipLabel),o.empty(),$.each(e.states,function(e,t){o.append($("<option></option>").attr("value",e).text(t))}),a&&$("select[name="+t+"State] option[value="+a+"]").attr("selected","selected");var n=$("select[name="+t+"State]").has("[selected]");0==n.length&&$("select[name="+t+"State] option:first-child").attr("selected","selected"),e.disabled?(o.attr("disabled","disabled").addClass("hidden"),s.removeAttr("disabled").removeClass("hidden")):(o.removeAttr("disabled").removeClass("hidden"),s.attr("disabled","disabled").addClass("hidden"))}}})}else Alert("Field not specified for states")}function validateEmail(e){var t=/^[a-zA-Z0-9]+[a-zA-Z0-9_.-]+[a-zA-Z0-9_-]+@[a-zA-Z0-9]+[a-zA-Z0-9.-]+[a-zA-Z0-9]+.[a-z]{2,4}$/;return t.test(e)?!0:!1}function validateString(e,t){return e?e.length<t?!1:!0:!1}function validatePhone(e){var n=/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/,a=/^[a-zA-Z0-9\-().\s]{10,15}$/,i=/^((\+\d{1,3}(-| )?\(?\d\)?(-| )?\d{1,5})|(\(?\d{2,6}\)?))(-| )?(\d{3,4})(-| )?(\d{4})(( x| ext)\d{1,5}){0,1}$/;return n.test(e.replace(/[\s()+\-\.]|ext/gi,""))?!0:a.test(e.replace(/[\s()+\-\.]|ext/gi,""))?!0:i.test(e.replace(/[\s()+\-\.]|ext/gi,""))?!0:!1}function validateName(){return name.val().length<4?(name.addClass("error"),nameInfo.text("We want names with more than 3 letters!"),nameInfo.addClass("error"),!1):(name.removeClass("error"),nameInfo.text("What's your name?"),nameInfo.removeClass("error"),!0)}function validateMessage(){return message.val().length<10?(message.addClass("error"),!1):(message.removeClass("error"),!0)}function numericOnly(){$(".numeric").keyup(function(e){var t=$(this).val();/\D/g.test(t)&&(t=t.replace(/\D/g,"")),$(this).val(t)})}function decimalOnly(e){var t=$("input[name="+e+"]").val();t=parseFloat(t),$("input[name="+e+"]").val(parseInt(t))}function modalOnClick(){$(".modalClick").each(function(){var t=($(this).attr("href"),$(this).attr("target"));"iframe"==t?$(this).magnificPopup({closeOnContentClick:!1,disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!0,fixedContentPos:!0,fixedBgPos:!0}):$(this).magnificPopup({closeOnContentClick:!1,fixedContentPos:!0,fixedBgPos:!0,type:"ajax",ajax:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},callbacks:{parseAjax:function(e){e.data=$(e.data).closest(".content")},ajaxContentAdded:function(){modalOnClick()}}})}).click(function(e){e.preventDefault()})}function addCoupon(e){$.ajax({url:"ajax/cart.php",data:{coupon:e,action:"add_coupon"},dataType:"json",beforeSend:function(){$("#price_area").html("Loading ... ")},success:function(e){refreshTotals(),e.complete||Alert(e.msg)}})}function refreshTotals(){$.ajax({url:"ajax/cart.php",data:{action:"totals"},dataType:"json",success:function(e){e.complete&&(console.log(e),$("#price_area").html(e.totals),1==e.info.coupon_status&&($("#dynamic_product_price_XX").val(e.info.unitprice),$("#dynamic_product_price_XX").attr("name","dynamic_product_price_"+e.info.prodID)))}})}function cartItemAdd(e,t,n,a){$.ajax({url:"ajax/cart.php",data:{item:e,itemQty:t,itemPrice:n,itemShipping:a,action:"add_item"},dataType:"json",beforeSend:function(){$("#price_area").html("Loading ... ")},success:function(e){refreshTotals()}})}function isEmpty(e){return void 0===e||null==e||e.length<=0?!0:!1}function showLoading(){window.internalLink=!0,window.formSubmitted=!0,$.magnificPopup.open({closeOnContentClick:!1,closeOnBgClick:!1,showCloseBtn:!1,enableEscapeKey:!1,items:{src:"#ic-loading",type:"inline"}})}function showExitPopup(){window.internalLink=!0,window.formSubmitted=!0,$.magnificPopup.open({closeOnContentClick:!1,closeOnBgClick:!1,showCloseBtn:!1,enableEscapeKey:!1,items:{src:"#ic-exitpop",type:"inline"}})}function countUp(){second++,59==second&&(second=0,min+=1),10==second?zeroPlaceholder="":0==second&&(zeroPlaceholder=0),$(".count-up").html(min+":"+zeroPlaceholder+second)}function showMessage(e,t,n,a){setTimeout(function(){$(e+" .message").html(t),$(e).slideDown(400),setTimeout(function(){$(e).slideUp(400)},1e3*a)},1e3*n)}function ShowPicture(e,t){"1"==t?document.layers?document.layers[""+e].visibility="show":document.all?document.all[""+e].style.visibility="visible":document.getElementById&&(document.getElementById(""+e).style.visibility="visible"):"0"==t&&(document.layers?document.layers[""+e].visibility="hide":document.all?document.all[""+e].style.visibility="hidden":document.getElementById&&(document.getElementById(""+e).style.visibility="hidden"))}var min=1,second=33,zeroPlaceholder="",counterId=setInterval(function(){countUp()},1e3);